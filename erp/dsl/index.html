<!DOCTYPE html><html><head><link href="META-INF/resources/webjars/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="styles.css" rel="stylesheet" /><link rel="shortcut icon" type="image/png" href="favicon.png" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style>
.scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.05;
  text-decoration: none;
}


.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink{
  color: #777;
  opacity: 0.5;
  text-decoration: none;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:hover{
  opacity: 1.0;
}
.scalatex-site-Styles-hoverContainer:hover .scalatex-site-Styles-headerLink:active{
  opacity: 0.75;
}

.scalatex-site-Styles-content{
  color: #777;
  line-height: 1.6em;
  margin: 0 auto;
  margin-left: auto;
  margin-right: auto;
  max-width: 800px;
  padding: 0 1em;
  padding-bottom: 50px;
}
.scalatex-site-Styles-content *{
  position: relative;
}
.scalatex-site-Styles-content p{
  text-align: justify;
}
.scalatex-site-Styles-content a:link{
  color: #37a;
  text-decoration: none;
}
.scalatex-site-Styles-content a:visited{
  color: #949;
  text-decoration: none;
}
.scalatex-site-Styles-content a:hover{
  text-decoration: underline;
}
.scalatex-site-Styles-content a:active{
  color: #000;
  text-decoration: underline;
}
.scalatex-site-Styles-content code{
  color: #000;
}

/*Workaround for bug in highlight.js IDEA theme*/
span.hljs-tag, span.hljs-symbol{
    background: none;
}
    </style><title>Entity</title><script src="scripts.js"></script></head><body><div>

<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Entity" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Entity<a class=" scalatex-site-Styles-headerLink" href="#Entity" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div><div class=" scalatex-site-Styles-content">
  <p>
    Entity is something that will be stored in the database.
    </p>
  <pre><code class="scala scalatex-site-Styles-highlightMe">entity Company
</code></pre>
  <p>
    Here <code>Company</code> is the name of the entity. 
  </p>
  <p>
    It is convesional to start an entity name for a capital letter and user a singular form of the word. 
    To user several words, use <b>upper</b> <a href="https://en.wikipedia.org/wiki/CamelCase">CamelCase</a>:</p>
  <ul>
    <li>Company - good</li>
    <li>InvoiceItem - good</li>
    <li>company - bad</li>
    <li>Companies - bad</li>
    <li>Invoice_Item - bad</li>
    </ul>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Fields" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Fields<a class=" scalatex-site-Styles-headerLink" href="#Fields" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <pre><code class="scala scalatex-site-Styles-highlightMe">entity Company {
  field code: Int
  field name: String
}</code></pre>
    <p>
      Two fields are declared here: code and name. The code is integer and name is string. 
      Convensionally, <b>lower</b> <a href="https://en.wikipedia.org/wiki/CamelCase">CamelCase</a> is used for field names:</p>
    <ul>
      <li>name - good</li>
      <li>itemQuantity - good</li>
      <li>Name - bad</li>
      <li>Companies - bad</li>
      <li>item_Quantity - bad</li>
      </ul>
    <p>
      You can set a default value for a field: <code>field name: String = &quot;Default Name&quot;</code>. 
      If you have a default value, you can omit the data type declaration: <code>field name = &quot;Default Name&quot;</code>.
      This field will be considered <code>String</code> automatically because <code>&quot;Default Name&quot;</code> is <code>String</code>.
      </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="ComputeFields" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Compute Fields<a class=" scalatex-site-Styles-headerLink" href="#ComputeFields" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Compute fields are not stored in the database but they are visible to the user. 
      To declare a compute property, use the <code>compute</code> keyword instead of <code>field</code> and set an expression for calculation.
      </p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">entity Invoice {
  field qty: Dec[2]
  compute price: Dec[2] = total/qty
  field total: Dec[2]
}
</code></pre>
    <p>
      Here we declare the compute field <code>price</code>. 
      You can simplify the declaration and omit the datatype. It will be infered automatically: <code>field price = total/qty</code>.
      </p>
    <p>
      This compute field will be read only. If you want to make it editable, yuo have to use the <code>update</code> modifier:
    </p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">compute price = total/qty {
  update {
    total = qty*price
  }
}
</code></pre>
    <p>
      This means that when the <code>price</code> field is changed, we will update <code>total</code> with <code>qty*price</code>.
       
        </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="ReferenceFields" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Reference Fields<a class=" scalatex-site-Styles-headerLink" href="#ReferenceFields" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      A reference field contains reference to another or the same entity. 
      To do this, you can easily use the name of the entity as data type after colon:
  </p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">entity Invoice {
  field company: Company
}

entity Company {
  field name: String
  
  func toString = name
}
</code></pre>
    <p>
      You can make references to any entities but you have to define a string representation for the entity 
      because the reference field will use the string representation to show the reference to user.
      To do this, you need to declare <code>toString</code> function and define an expression how to convert the entity to string.
  </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="OptionalFields" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Optional Fields<a class=" scalatex-site-Styles-headerLink" href="#OptionalFields" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Optional Fields
  </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="CollectionFields" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Collection Fields<a class=" scalatex-site-Styles-headerLink" href="#CollectionFields" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Collection fields allow to add many items of similar type into an entity.
      </p>
    <pre><code class="scala scalatex-site-Styles-highlightMe">entity Invoice {
  field items: [InvoiceItem]
}

class InvoiceItem {
  field product: Product
  field qty: Dec[2]
}
</code></pre>
    <p>
      InvoiceItem is a <code>class</code>. This means that it can be stored in the database only as a part of another entity.
      It does not have an id and cannot be selected itself, but only with another entity which will use it.
      </p>
    <p>
      <code>items</code> is a collection field because the datatype declared in square brackets <code>items</code>.
      This means that there are many items. 
      This field won't be visible in list view, and will be represented as a table in form by default.
  </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Functions" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Functions<a class=" scalatex-site-Styles-headerLink" href="#Functions" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Functions
  </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="DataTypes" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Data Types<a class=" scalatex-site-Styles-headerLink" href="#DataTypes" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <dl>
      <dt>
        <code>Dec[precision]</code></dt>
      <dd>
        Decimal datatype. You have to set precision in square brackets. 
        The expression can be a constant like <code>field foo: Dec[2]</code> or an expression <code>field foo: Dec[currency.precision]</code>.</dd>
      <dt></dt> 
        <code>Int</code>
      <dd>
        Integer datatype. It is similar to <code>Dec[0]</code>.</dd>
      <dt>
        <code>String</code></dt>
      <dd>
        String datatype.</dd>
      <dt>
        <code>Date</code>, <code>Time</code> and <code>DateTime</code></dt>
      <dd>
        Three datatypes for date, time and date&amp;time together 
  </dd></dl>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="FieldModifiers" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Field Modifiers<a class=" scalatex-site-Styles-headerLink" href="#FieldModifiers" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <p>
      Field Modifiers
    </p>
  <div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="Syntax" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">Syntax<a class=" scalatex-site-Styles-headerLink" href="#Syntax" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div>
    <pre><code class="scala scalatex-site-Styles-highlightMe">&lt;Entity&gt; ::=
entity &lt;Name&gt; [extends &lt;SuperClass&gt;*] {
  &lt;Field | ComputeField | Function | View&gt;*
}

Field ::= field &lt;Name&gt;: [&lt;DataType&gt;] [= &lt;DefaultValue&gt;] [{ &lt;Modifier&gt;* }]
</code></pre></div>
<div style="margin: 0px;color: #333;text-align: center;padding: 2.5em 2em 0;border-bottom: 1px solid #eee;display: block;" id="View" class=" scalatex-site-Styles-hoverContainer scalatex-site-Styles-headerTag"><h1 style="margin: 0.2em 0;font-size: 3em;font-weight: 300;">View<a class=" scalatex-site-Styles-headerLink" href="#View" style="position: absolute;right: 0px;"><i class="fa fa-link"></i></a></h1><br /></div><div class=" scalatex-site-Styles-content">
  <p>
      View
      
</p>
  </div></div><script>
    scalatex.scrollspy.Controller().main(
      [{"value":"Entity","children":[{"value":"Fields","children":[]},{"value":"Compute Fields","children":[]},{"value":"Reference Fields","children":[]},{"value":"Optional Fields","children":[]},{"value":"Collection Fields","children":[]},{"value":"Functions","children":[]},{"value":"Data Types","children":[]},{"value":"Field Modifiers","children":[]},{"value":"Syntax","children":[]}]},{"value":"View","children":[]}]
  )</script><script>
    ['DOMContentLoaded', 'load'].forEach(function(ev){
      addEventListener(ev, function(){
        Array.prototype.forEach.call(
          document.getElementsByClassName('scalatex-site-Styles-highlightMe'),
          hljs.highlightBlock
        );
      })
    })
  </script></body></html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               